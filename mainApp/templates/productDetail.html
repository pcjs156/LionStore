{% extends 'base.html' %}
{% load static %}

{% block head %}
<title>ìƒí’ˆë³„ ë””í…Œì¼ í˜ì´ì§€</title>
<!-- ìƒí’ˆë³„ ë””í…Œì¼ í˜ì´ì§€
     ìƒí’ˆ ì •ë³´, ë¦¬ë·° ëª©ë¡, ì›¹ íŒë§¤ ì •ë³´ ëª©ë¡, ë¬¸êµ¬ì  ì •ë³´ ëª©ë¡ì´ ë…¸ì¶œë¨ -->
{% endblock %}

{% block content %}
<a href="{% url 'productList' product.category.id %}">ì œí’ˆ ëª©ë¡ ë³´ê¸°</a>

<div>ì œí’ˆëª… : {{ product.name }}</div>
<div>ì œì¡°ì‚¬ : {{ product.manufacturer }}</div>
<div>ì œí’ˆ ì„¤ëª… : {{ product.description }}</div>
<br>

{{ likeMessage }}
<a href="{% url 'productLikeProcess' product_id=product.id %}">
     {% if userLike %}
     <!-- ìœ ì €ê°€ ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥¸ ê²½ìš° -->
     â¤ï¸
     {% else %}
     <!-- ìœ ì €ê°€ ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥´ì§€ ì•Šì€ ê²½ìš° -->
     ğŸ–¤
     {% endif %}
</a>

<hr>

<!-- ì¸ê¸°ìˆœ ì •ë ¬ë¡œ ì „í™˜ -->
{% if popularitySort %}
<div><span>ì¸ê¸°ìˆœ ì •ë ¬</span> / <span><a href="{% url 'productDetail' product.id %}?sort=new">ìµœì‹ ìˆœì •ë ¬</a></span></div>
<!-- ìµœì‹ ìˆœ ì •ë ¬ë¡œ ì „í™˜ -->
{% else %}
<div><span><a href="{% url 'productDetail' product.id %}?sort=popularity">ì¸ê¸°ìˆœ ì •ë ¬</a></span> / <span>ìµœì‹ ìˆœì •ë ¬</span></div>
{% endif %}

<div><a href="{% url 'reviewCreate' product.id %}">ìƒˆ ë¦¬ë·° ì‘ì„±</a></div>
{% for review in reviews %}
<div><a href="{% url 'reviewDetail' review.id %}">ë¦¬ë·° {{ review.id }} ({{ review.pub_date | date:"Y/m/d a h:i" }})</a></div>
{% endfor %}

<!-- ì¸ê¸°ìˆœ ì •ë ¬ì¸ ê²½ìš° -->
{% if popularitySort %}

     {% if reviews.has_previous %}
     <a href="?page=1&sort=popularity">ë§¨ ì•ìœ¼ë¡œ</a>
     <a href="?page={{ reviews.previous_page_number }}&sort=popularity">ì´ì „ìœ¼ë¡œ</a>
     {% endif %}
     <span>{{ reviews.number }}</span>
     <span>/</span>
     <span>{{ reviews.paginator.num_pages }}</span>
     {% if reviews.has_next %}
     <a href="?page={{ reviews.next_page_number }}&sort=popularity">ë‹¤ìŒìœ¼ë¡œ</a>
     <a href="?page={{ reviews.paginator.num_pages }}&sort=popularity">ë§¨ ë’¤ë¡œ</a>
     {% endif %}

     <hr>
     <div style="font-weight: bold;">íƒœê·¸ëª©ë¡</div>
     {% for tag in tags %}
     <div>{{ tag }}</div>
     {% endfor %}

<!-- ìµœì‹ ìˆœ ì •ë ¬ì¸ ê²½ìš° -->
{% else %}

     {% if reviews.has_previous %}
     <a href="?page=1&sort=new">ë§¨ ì•ìœ¼ë¡œ</a>
     <a href="?page={{ reviews.previous_page_number }}&sort=new">ì´ì „ìœ¼ë¡œ</a>
     {% endif %}
     <span>{{ reviews.number }}</span>
     <span>/</span>
     <span>{{ reviews.paginator.num_pages }}</span>
     {% if reviews.has_next %}
     <a href="?page={{ reviews.next_page_number }}&sort=new">ë‹¤ìŒìœ¼ë¡œ</a>
     <a href="?page={{ reviews.paginator.num_pages }}&sort=new">ë§¨ ë’¤ë¡œ</a>
     {% endif %}

     <hr>
     <div style="font-weight: bold;">íƒœê·¸ëª©ë¡</div>
     {% for tag in tags %}
     <div>{{ tag }}</div>
     {% endfor %}

{% endif %}

<hr>

<!-- ì›¹ íŒë§¤ìì¸ ê²½ìš°ì—ë§Œ íŒë§¤ì •ë³´ ì…ë ¥ ê°€ëŠ¥ -->
{% if user.is_WebSeller %}
<a href="{% url 'webSellInfoCreate' product_id=product.id %}">ì›¹ íŒë§¤ì •ë³´ ì¶”ê°€</a>
{% endif %}

{% for info in webSellInfoList %}
<div>
     <div>íŒë§¤ì : {{ info.seller.nickname }}</div>
     <div>ê°€ê²© : {{ info.price }}ì›</div>
     <div><a href="{% url 'redirectExternalLink' link=info.link %}">êµ¬ì…í•˜ëŸ¬ ê°€ê¸°</a></div>
     {% if info.seller == user %}
     <div>
          <div><a href="{% url 'webSellInfoDelete' product_id=product.id webSellInfo_id=info.id %}">íŒë§¤ì •ë³´ ì‚­ì œí•˜ê¸°</a></div>
          <div><a href="{% url 'webSellInfoModify' product_id=product.id webSellInfo_id=info.id %}">íŒë§¤ì •ë³´ ìˆ˜ì •í•˜ê¸°</a></div>
     </div>
     {% endif %}
</div>
<br>
{% endfor %}

<hr>

ê´€ë ¨ ì˜ìƒ <br>
{% for linkHash in videoLinkHashs %}
<iframe width="200" height="180" src="https://www.youtube.com/embed/{{ linkHash }}" frameborder="0"
     allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
{% endfor %}
{% endblock %}